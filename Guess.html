<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess</title>
    <style>
        .container {
            display: flex;
            justify-content: space-between;
            padding: 20px;
        }
        .column {
            width: 45%;
        }
        .item {
            margin-bottom: 15px;
        }
        img {
            width: 100px;
            height: auto;
            display: block;
        }
    </style>
</head>
<script>
    function loadWeapons() {
        let weapons = JSON.parse(localStorage.getItem('weapons')) || []; // Get weapons from localStorage
        console.log("Loaded weapons:", weapons); // Log weapons to see if they are fetched correctly
        let itemList = document.getElementById('weaponList');
        itemList.innerHTML = ''; // Clear the previous list

        if (weapons.length === 0) {
            itemList.innerHTML = '<p>No weapons added yet.</p>';
        } else {
            weapons.forEach((item, index) => {
                let li = document.createElement('li');
                li.innerHTML = "<label class='item'><input type='radio' id='weapon' name='weapon' value='" + item + "'><img src='assets/images/" + item + ".png'></label>";

                itemList.appendChild(li);
            });
        }
    }
    function loadSuspects() {
        let suspects = JSON.parse(localStorage.getItem('suspects')) || []; // Get suspects from localStorage
        console.log("Loaded suspects:", suspects); // Log suspects to see if they are fetched correctly
        let itemList = document.getElementById('suspectList');
        itemList.innerHTML = ''; // Clear the previous list

        if (suspects.length === 0) {
            itemList.innerHTML = '<p>No suspects added yet.</p>';
        } else {
            suspects.forEach((item, index) => {
                let li = document.createElement('li');
                li.innerHTML = "<label class='item'><input type='radio' id='suspect' name='suspect' value='" + item + "'><img src='assets/images/" + item + ".png'></label>";

                itemList.appendChild(li);
            });
        }
    }
    function guess() {
        //alert(localStorage.getItem('correctSuspect') + " " + localStorage.getItem('correctWeapon'));
        let suspect = document.getElementById('suspect').value;
        alert(suspect);
        let weapon = document.getElementById('weapon').value;
        alert(weapon);
        if(suspect == localStorage.getItem('correctSuspect') && weapon == localStorage.getItem('correctWeapon')) {
            alert("correct guess!");
        }
        else {
            alert("loser");
        }
    }
    function loadAll() {
        loadWeapons();
        loadSuspects();
    }

    window.onload = loadAll; // Load weapons when the page opens
</script>
<body>
<h1>Guess</h1>

<div class="container">
    <!-- Suspect selection (left side) -->
    <div class="column">
        <h2>Suspects</h2>
        <ul id="suspectList"></ul>
<!--        <label class="item">-->
<!--            <input type="radio" name="suspect" value="Bob">-->
<!--            <img src="assets/images/bob.png" alt="Suspect 1">-->
<!--        </label>-->
<!--        <label class="item">-->
<!--            <input type="radio" name="suspect" value="Fred">-->
<!--            <img src="assets/images/fred.png" alt="Suspect 2">-->
<!--        </label>-->
<!--        <label class="item">-->
<!--            <input type="radio" name="suspect" value="John">-->
<!--            <img src="assets/images/john.png" alt="Suspect 3">-->
<!--        </label>-->
    </div>

    <!-- Weapon selection (right side) -->
    <div class="column">
        <h2>Weapons</h2>
<!--        <label class="item">-->
<!--            <input type="radio" name="weapon" value="knife">-->
<!--            <img src="assets/images/knife.png" alt="knife">-->
<!--        </label>-->
<!--        <label class="item">-->
<!--            <input type="radio" name="weapon" value="pistol">-->
<!--            <img src="assets/images/pistol.png" alt="pistol">-->
<!--        </label>-->
<!--        <label class="item">-->
<!--            <input type="radio" name="weapon" value="candlestick">-->
<!--            <img src="assets/images/candlestick.png" alt="candlestick">-->
<!--        </label>-->
        <!-- Add more weapons as needed -->

        <ul id="weaponList"></ul>
    </div>
</div>

<div style="text-align: center;">
    <button onclick="window.location.href='Map.html'">Map</button>
    <button onclick="guess()">Guess</button>
    <button onclick="window.location.href='Retry.html'">Wrong</button>
    <button onclick="window.location.href='Win.html'">Correct</button>
</div>
</body>
</html>