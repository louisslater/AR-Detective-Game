<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory</title>
    <script>
        function loadWeapons() {
            let weapons = JSON.parse(localStorage.getItem('weapons')) || []; // Get weapons from localStorage
            console.log("Loaded weapons:", weapons); // Log weapons to see if they are fetched correctly
            let itemList = document.getElementById('itemList');
            itemList.innerHTML = ''; // Clear the previous list

            if (weapons.length === 0) {
                itemList.innerHTML = '<p>No weapons added yet.</p>';
            } else {
                weapons.forEach((item, index) => {
                    let li = document.createElement('li');
                    li.innerHTML = "<img src='assets/images/" + item + ".png'>";

                    // Add a "Remove" button for each item
                    let removeButton = document.createElement('button');
                    removeButton.textContent = 'Remove';
                    removeButton.onclick = function() { removeWeapon(index); };

                    li.appendChild(removeButton);
                    itemList.appendChild(li);
                });
            }
        }

        function removeWeapon(index) {
            let weapons = JSON.parse(localStorage.getItem('weapons')) || [];
            weapons.splice(index, 1); // Remove item at the given index
            localStorage.setItem('weapons', JSON.stringify(weapons)); // Update localStorage
            loadWeapons(); // Reload the weapons list
        }

        window.onload = loadWeapons; // Load weapons when the page opens
    </script>
</head>
<body>
<h1>Inventory</h1>
<ul id="itemList"></ul> <!-- This is where the weapons will be listed -->
<button onclick="window.location.href='ARMap.html'">Map</button>
</body>
</html>